<!DOCTYPE html> <html lang="pt-BR"> <head> <meta charset="UTF-8" /> <title>MissionCare Plus - Teste</title> <meta name="viewport" content="width=device-width, initial-scale=1" /> <style> body { font-family: Arial, sans-serif; max-width: 720px; margin: 20px auto; line-height: 1.5; } textarea { width: 100%; height: 140px; } input, button, select { padding: 10px; font-size: 16px; } .row { margin: 12px 0; } pre { background: #f7f7f7; padding: 12px; white-space: pre-wrap; } .ok { color: #0a7f2e; } .err { color: #b00020; } </style> </head> <body> <h1>MissionCare Plus - Teste do Assistant</h1> <div class="row"> <label>Assistant ID:</label><br /> <input id="assistantId" type="text" value="asst_NU2rjoLUZiECJ711IE1pXotZ" style="width:100%" /> </div> <div class="row"> <label>Mensagem:</label><br /> <textarea id="message">Meu peito começou a doer de repente. A dor vai pro braço. Estou suando e com enjoo.</textarea> </div> <div class="row"> <button id="sendBtn">Enviar</button> </div> <div class="row"> <strong>Resposta:</strong> <pre id="output"></pre> </div> <script> const BACKEND_URL = "https://missioncare-plus-backend.onrender.com"; const btn = document.getElementById("sendBtn"); const out = document.getElementById("output"); btn.addEventListener("click", async () => { out.textContent = "Enviando..."; const assistantId = document.getElementById("assistantId").value.trim(); const message = document.getElementById("message").value.trim(); try { const res = await fetch(BACKEND_URL + "/api/assistants/run", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ assistantId, message }) }); const data = await res.json(); if (!res.ok) { out.textContent = "Erro: " + (data?.error || res.statusText); out.className = "err"; return; } const lines = []; lines.push("ok: " + data.ok); lines.push("threadId: " + data.threadId); lines.push(""); lines.push("text:"); lines.push(data.text); lines.push(""); lines.push("check:"); lines.push(JSON.stringify(data.check, null, 2)); out.textContent = lines.join("\n"); out.className = "ok"; } catch (e) { out.textContent = "Falha na requisição: " + e; out.className = "err"; } }); </script> </body> </html>
