<!DOCTYPE html> <html lang="pt-BR"> <head> <meta charset="UTF-8" /> <title>Teste Minimal — MissionCare Plus</title> <meta name="viewport" content="width=device-width, initial-scale=1" /> <style> body { font-family: Arial, sans-serif; max-width: 720px; margin: 24px auto; } textarea { width: 100%; height: 120px; } pre { background: #f7f7f7; padding: 12px; white-space: pre-wrap; border-radius: 6px; } button { padding: 10px 16px; font-size: 16px; } .muted { color: #666; } </style> </head> <body> <h1>Teste Minimal — MissionCare Plus</h1> <p class="muted" id="jsstatus">JS: aguardando…</p> <div> <label>Mensagem:</label><br /> <textarea id="message">Meu peito começou a doer de repente. A dor vai pro braço. Estou suando e com enjoo.</textarea> </div> <div style="margin-top:10px;"> <button id="sendBtn">Enviar</button> </div> <h3>Resposta</h3> <pre id="output"></pre> <!-- Script ao FINAL do body --> <script> // Sinalizar que o JS carregou const jsStatus = document.getElementById("jsstatus"); jsStatus.textContent = "JS: carregado OK"; const BACKEND_URL = "https://missioncare-plus-backend.onrender.com"; const btn = document.getElementById("sendBtn"); const out = document.getElementById("output"); btn.addEventListener("click", async () => { out.textContent = "Enviando..."; const message = document.getElementById("message").value.trim(); try { // Usar rota específica (sem assistantId) — mais simples const res = await fetch(BACKEND_URL + "/api/assistants/run/emergencias", { method: "POST", headers: { "Content-Type": "application/json" }, body: JSON.stringify({ message }) }); const text = await res.text(); out.textContent = "HTTP " + res.status + ":\n\n" + text; } catch (e) { out.textContent = "Falha na requisição: " + e; } }); </script> </body> </html>
